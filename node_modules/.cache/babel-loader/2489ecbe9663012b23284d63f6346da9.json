{"ast":null,"code":"import _regeneratorRuntime from\"/home/fs/srmswap/oyster-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fs/srmswap/oyster-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/fs/srmswap/oyster-swap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button}from\"antd\";import{removeLiquidity}from\"../../utils/pools\";import{useWallet}from\"../../utils/wallet\";import{useConnection}from\"../../utils/connection\";import{notify}from\"../../utils/notifications\";export var RemoveLiquidity=function RemoveLiquidity(props){var _props$instance=props.instance,account=_props$instance.account,pool=_props$instance.pool;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pendingTx=_useState2[0],setPendingTx=_useState2[1];var _useWallet=useWallet(),wallet=_useWallet.wallet;var connection=useConnection();var onRemove=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var liquidityAmount;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setPendingTx(true);// TODO: calculate percentage based on user input\nliquidityAmount=account.info.amount.toNumber();_context.next=5;return removeLiquidity(connection,wallet,liquidityAmount,account,pool);case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);notify({description:\"Please try again and approve transactions from your wallet\",message:\"Removing liquidity cancelled.\",type:\"error\"});case 10:_context.prev=10;setPendingTx(false);// TODO: force refresh of pool accounts?\nreturn _context.finish(10);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,7,10,13]]);}));return function onRemove(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{type:\"default\",onClick:onRemove,disabled:pendingTx},\"Remove\"));};","map":null,"metadata":{},"sourceType":"module"}